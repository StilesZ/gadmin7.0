{include file='common/head' /}
<link rel="stylesheet" href="__LIB__/select2/select2.min.css" />
<link rel="stylesheet" type="text/css" href="__SFDP__/lib/selecttree/select2totree.css?v=5.0.0">
<div class="layui-fluid">
	<div class="layui-card">
		<div class="layui-card-body">
			<form action="" method="post" name="form" id="form" class="layui-form">
				<div class="layui-form-item">
					<label class="layui-form-label">上级角色：</label>
					<div class="layui-input-block">
						<select name="pid" class="select" id="pid" lay-ignore style="width: 100%">
							<option value="">请选择</option>
						</select>
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">角色名称：</label>
					<div class="layui-input-block">
						<input type="text" name="name" class="layui-input"  value="{$info.name ?? ''}" datatype="*">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">角色状态：</label>
					<div class="layui-input-block">
						<input type="radio" id="radio-1" title='启用' name="status"   value='2'>
						<input type="radio" id="radio-2" title='关闭' name="status"  value='0'>
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">备注说明：</label>
					<div class="layui-input-block">
						<textarea type="text" name="remark" class="layui-textarea">{$info.remark ?? ''}</textarea>
					</div>
				</div>

				<div class="layui-form-item">
					<div class="layui-input-block">
						<button type="submit" class="layui-btn layui-btn-sm">立即提交</button>
						<a onclick="layer_close()" class="layui-btn layui-btn-sm layui-btn-primary">取消</a>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>

{include file='common/footer' /}
<script src="__LIB__/select2/select2.min.js?v=7.0.1"></script>
<script type="text/javascript" src="__SFDP__/lib/selecttree/select2totree.js"></script>
<script type="text/javascript" src="__SFDP__/sfdp.7.0.js"></script>
<script>
	layui.use('form', function(){
		var form = layui.form;
		$("input[type=radio][name=status][value={$info.status ?? '2'}]").attr("checked",true);
		$("[name='pcode']").find("[value='{$info.pcode ?? ''}']").attr("selected",true);
		form.render();

	});
</script>
<script>
	$(function () {
		var roledata = sfdp.arrytotree({$role|raw});
		//	var roledata2 = sfdp.arrytotree({$role2|raw});
		g_checkForm($("#form"));
		$("#pid").select2ToTree({treeData: {dataArr: roledata}});
		$("#pid").select2().val({$info.pid ?? '0'}).trigger("change");
		$("#pid").select2ToTree();
		//	$("#pid2").select2ToTree({treeData: {dataArr: roledata2}});
		//	$("#pid2").select2().val({$info.pcode ?? '0'}).trigger("change");
		//	$("#pid2").select2ToTree();
	})
</script>
</body>
</html>